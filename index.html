<html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <title>`ili</title>
  <script type="text/javascript" src="./js/lib/require.min.js"></script>
  <link href="img/favicon_256.png" type="image/png" rel="icon">
  <meta name="google-site-verification" content="cxpSm-lsEATF7z2pMt1-RCZPSaKRzb6h0RiIjaVQvsE" />
  <script type="text/javascript">
      requirejs.config({
        // the left side is the module name, and the right side is the path
        // do NOT include the .js extension
        'paths': {

          'filesaver': './js/lib/FileSaver.min',
          'dat': './js/lib/dat.gui.min',
          'jquery': './js/lib/jquery-2.1.4.min',
          'papaparse': './js/lib/papaparse.min',

          /* THREE.js */
          'three': './js/lib/three.min',
          'orbitcontrols': './js/lib/OrbitControls',
          'stlloader': './js/lib/STLLoader',

          /* `ili's objects */
          'colormaps': './js/ColorMaps',
          'eventsource': './js/EventSource',
          'examples': './js/Examples',
          'mapselector': './js/MapSelector',
          'scene2d': './js/Scene2D',
          'scene3d': './js/Scene3D',
          'spotlabel2d': './js/SpotLabel2D',
          'spotlabel3d': './js/SpotLabel3D',
          'labelbase': './js/SpotLabelBase',
          'view2d': './js/View2D',
          'view3d': './js/View3D',
          'viewcontainer': './js/ViewContainer',
          'viewgroup3d': './js/ViewGroup3D',
          'viewlegend': './js/ViewLegend',
          'workspace': './js/Workspace',
          'common': './js/common',

          /* worker submodule */
          'wk_downloader': './js/workers/Downloader',
          'wk_mapper': './js/workers/Mapper',
          'wk_measuresloader': './js/workers/MeasuresLoader',
          'wk_meshloader': './js/workers/MeshLoader',
          'wk_raycaster': './js/workers/Raycaster'
        },
        /*
           Libraries that are not AMD compatible need shim to declare their
           dependencies.
         */
        'shim': {
          'orbitcontrols': {
            'deps': ['three']
          },
          'stlloader': {
            'deps': ['three']
          }
        }
      });

      // High level objects. Could be easily accessed from Web Inspector.
      var g_workspace;
      var g_views;
      var g_gui;
      var g_examples;
      var g_mapSelector;
      var g_isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1;
      var g_keyPressEvent = g_isWebkit ? 'keydown' : 'keypress';

      requirejs(["main"], function(init){
        // initialize the whole application
        window.onload = init;
      });

  </script>
</head>
<body>
<div id="view-container">
<div class="ViewWelcome">
  <div class="message"><div><span id="open-button">Open</span> files or drag-and-drop them into the window</div></div>
</div>
<div class="View2D">
  <img>
  <canvas />
</div>
<div class="ViewGroup3D" layout="single">
  <canvas></canvas>
  <div class="View3D" id="view-3d-1"></div>
  <div class="View3D" id="view-3d-2"></div>
  <div class="View3D" id="view-3d-3"></div>
  <div class="View3D" id="view-3d-4"></div>
  <div class="HoverSpot"></div>
</div>
<svg class="ViewLegend" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="colorMapGradient" x1="0" y1="0" x2="100%" y2="0">
      <stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1"></stop>
      <stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1"></stop>
    </linearGradient>
  </defs>
  <rect x="0" y="0" width="100%" height="100%" fill="gray" fill-opacity="0.5"/>
  <text id="current-map-label" x="100" y="20" fill="black" text-anchor="middle" cursor="pointer" font-size="14" />
  <rect x="10" y="30" width="180" height="20" style="fill:url(#colorMapGradient)"/>
  <text id="minLabel" x="10" y="70" fill="black" text-anchor="start" font-size="14" />
  <text id="scaleLabel" x="100" y="70" fill="black" text-anchor="middle" font-size="14" />
  <text id="maxLabel" x="190" y="70" fill="black" text-anchor="end" font-size="14" />
</svg>
</div>
<div id="examples-container"></div>
<div id="status" hidden></div>
<div id="map-selector" hidden><input type="text" autocomplete="off"><div class="items"></div></div>
<div id="drop-target-informer"><div class="message">Drop files here</div></div>
<dialog id="errors" hidden>
Errors:
<ul></ul>
<button id="close">Close</button>
</dialog>
</body>
</html>
